# 单 向数据传递

![image-20250318010633217](./assets/image-20250318010633217.png)

![image-20250317230623226](./assets/image-20250317230623226.png)

```tsx
@Entry
@Components 
struct Index{}
```

> #### 自适应-`layoutWeight(1)`



# 组件封装-头部标题组件

## 1、@Extend 样式的复用



> @Extend(Button) 可以传参
>
> - ###### 未优化
>
>   ##### ![image-20250317231202542](./assets/image-20250317231202542.png)
>
> - ###### 封装样式
>
>   ![image-20250317231542285](./assets/image-20250317231542285.png)



## 2、点击切换

> ![image-20250317231816508](./assets/image-20250317231816508.png)



# 组件封装-中间内容

## 1、List列表组件-超出滚动

> ###### 比起scroll更加的灵活
>
> ![image-20250317232025909](./assets/image-20250317232025909.png)



## 2、List的基本使用

> ![image-20250317232317202](./assets/image-20250317232317202.png)

## 3、List的参数使用

> ![image-20250317232833575](./assets/image-20250317232833575.png)



## 4、组件的开发

> ![image-20250317235151076](./assets/image-20250317235151076.png)
>
> ```tsx
> ```
>
> 

# 组件封装-底部

## 1、IconFont字体图标的使用

> ![image-20250318002048115](./assets/image-20250318002048115.png)
>
> `aboutToApper()` 生命周期函数
>
> ![image-20250318002510402](./assets/image-20250318002510402.png)

##   

> ![image-20250318002721179](./assets/image-20250318002721179.png)





---

![image-20250318002923337](./assets/image-20250318002923337.png)



# 功能1：列表渲染

## 1、维护数据`model/commentData.est`

> ![image-20250318003541378](./assets/image-20250318003541378.png)
>
> ![image-20250318003408260](./assets/image-20250318003408260.png)
>
> ![image-20250318003521044](./assets/image-20250318003521044.png)



## 2、导入数据使用数据

> <img src="./assets/image-20250318003614840.png" alt="image-20250318003614840" style="zoom:200%;" />



## 3、数据传递、动态渲染

### `@State` 为了更好的改变操作数据

> ![image-20250318004115340](./assets/image-20250318004115340.png)

##### 





# 功能2：点赞

![image-20250318004231872](./assets/image-20250318004231872.png)

## 1、点击子组件

> #### 基础的使用
>
> - 父组件
>   - ![image-20250318004614576](./assets/image-20250318004614576.png)
> - 子组件
>   - ![image-20250318004542847](./assets/image-20250318004542847.png)



## 2、调用父组件传递的方法-this指向问题

> ![image-20250318004920973](./assets/image-20250318004920973.png)



## 3、修改数据并更新

> 
>
> ![image-20250318005250186](./assets/image-20250318005250186.png)
>
> ![image-20250318005219191](./assets/image-20250318005219191.png)





# 功能3：添加评论

![image-20250318005349472](./assets/image-20250318005349472.png)



## 1、绑定表单

> `$$`
>
> ![image-20250318005527465](./assets/image-20250318005527465.png)

## 2、调用父组件方法

> - ##### 子组件
>
>   - ![image-20250318005628879](./assets/image-20250318005628879.png)
>
> - ##### 父组件
>
>   - ![image-20250318005805931](./assets/image-20250318005805931.png)



## 3、新增数据

> ![image-20250318005903200](./assets/image-20250318005903200.png)



# 功能4：评论排序

![image-20250318005941649](./assets/image-20250318005941649.png)

## 1、点击按钮

> ![image-20250318010254441](./assets/image-20250318010254441.png)

## 2、调用回调传入参数

> - 子组件
>   - ![image-20250318010230417](./assets/image-20250318010230417.png)

## 3、基于参数排序展示

> 
>
> ![image-20250318010512161](./assets/image-20250318010512161.png)
>
> - 默认已进入就展示最新
>
> ![image-20250318010528929](./assets/image-20250318010528929.png)